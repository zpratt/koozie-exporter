repositories:
  - name: stable
    url: https://charts.helm.sh/stable
  - name: prometheus-community
    url: https://prometheus-community.github.io/helm-charts
releases:
  - name: nginx-ingress
    namespace: nginx
    chart: stable/nginx-ingress
    createNamespace: true
    set:
      - name: controller.kind
        value: DaemonSet
      - name: controller.service.type
        value: NodePort
      - name: controller.service.nodePorts.http
        value: 30080
      - name: controller.service.nodePorts.https
        value: 30443
  - name: prometheus-operator
    namespace: prometheus
    chart: prometheus-community/kube-prometheus-stack
    createNamespace: true
    disableValidation: true
  - name: topokube
    namespace: topokube
    chart: ./charts/koozie-exporter
    values:
      - "./charts/koozie-exporter/values.yaml"
    wait: true
    waitForJobs: true
    createNamespace: true
